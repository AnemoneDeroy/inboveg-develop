# inboveg-develop

## Introduction

Collaborative development of tools and functions to aid access to and processing of vegetation data stored in the inboveg database. When tools or functions are developed and tested, the idea is to make them available in the `inborutils` package and explain how they can be used in the [tutorials](https://inbo.github.io/tutorials/) website. 



## How to get started?

### Installing the repository on your local drive

* go to the repository https://github.com/inbo/inboveg-develop/ and press clone button
* copy the URL to the clipboard
* start RStudio and select `File -> New project -> Version Control -> Git` -> paste the URL
* inboveg-develop will be automatically suggested as project directory name (keep it that way)
* In the field `Create project as subdirectory of` select a folder on your local disc. For instance `C:/R/GitRepositories`.
* Click OK

You will now have a local clone of the remote repository as an Rstudio project. The file `inboveg-develop.Rproj` will be automatically created as well as a `.git` directory (do not make changes in this directory - it is where version control takes place). The same directories and files which can be seen on the [remote](https://github.com/inbo/inboveg-devel) will be copied to your local drive. Whenever you want to work in the project, you need to double-click `inboveg-develop.Rproj` file to start the Rstudio project. 

You can associate multiple Rstudio projects (`File -> New project -> From existing directory`) to subfolders beneath the root directory. These projects will automatically be associated with the same `git` version control as the `inboveg-develop.Rproj`. This can be useful when working with relative paths (by default, the working directory is the directory where the .Rproj file resides).

### Rmarkdown

Some useful resources for self-learning of **Rmarkdown**:

[tutorial rmarkdown](https://ourcodingclub.github.io/2016/11/24/rmarkdown-1.html)

In Rstudio: 

* `File -> New -> R markdown` automatically gives a template 
* `Help -> Markdown Quick Reference`
* `Help -> Cheatsheets -> R markdown cheatsheet`


Tips & Tricks:

* `ctrl + alt + i`: insert R chunk 
* select lines of R code in an R chunk followed by `ctrl-alt-i` puts the selected lines in a new R chunk
* chunk options: https://yihui.name/knitr/options/
* chunk names: are optional but recommended especially if an output is generated by the chunk, do not use spaces or _ in chunk names (e.g. ```r name-of-chunk)
* use 1 chunk for 1 (ggplot) figure or 1 table or other type of output that is printed 

## Version control

* To avoid conflicts when working on the same files [this workflow](https://inbo.github.io/git-course/workflow_rstudio.html) is recommended. We can work with a simple branching model
    * one branch for one Rmd file
    * preferably shortlived branches
* Code of Conduct 
    * Merging a branch to the master will be done through a pull request (PR)
        * To do this go to https://github.com/hansvancalster/multi-species-cover/branches and click on new pull request for the branch you want to merge
        * The one who made the PR, will assign one or more reviewers
        * When approved the PR can be merged

## Proposed structure


```
  |- inboveg-develop.Rproj
  |- Readme.md <- up to date description of the repo content
  |- data <- csv files and the like
      |- *.csv
  |- src <- R, Rmd, md files (except the README.md)
      |- query-data 
          |- query-data.Rproj
          |- *.Rmd
          |- *.R
      |- expert-classification
          |- expert-classification.Rproj
          |- *.Rmd
          |- *.R
```

### What we ignore, `.gitignore`

and why we ignore...

* `temp` folder (you can use this folder to experiment, write temporary output, ...)
* `*.Rdata` (binary files are not suitable for version control)
* several other files and folders that are either related to your local Rstudio project or are temporary files generated when building (or knitting) Rmarkdown files (see `.gitignore` for details)

### Data sets in repository

* should be < 20MB, other data sets are out of scope for version control.
* data sets are best saved in a [tidy](http://vita.had.co.nz/papers/tidy-data.html) data format. In short, this means:
    * each observation in a separate row
    * each variable in a separate column

